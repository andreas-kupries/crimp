linear^{clamp}_{gain,offset} (x) = min (0, max (255, [ gain x + offset ]))
